<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin ‚Ä¢ Gui</title>

    <!-- Grug usa Tailwind CDN. R√°pido. F√°cil. -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Grug usa Lucide Icons. Bonitos. -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fonte Syne e Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Syne:wght@700;800&display=swap"
        rel="stylesheet">

    <style>
        /* Grug Configura√ß√µes Visuais */
        body {
            background-color: #0f0f0f;
            color: #f3f4f6;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* App feel */
        }

        .font-syne {
            font-family: 'Syne', sans-serif;
        }

        /* Scrollbar invis√≠vel. Grug gosta limpo. */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Foco acess√≠vel mas bonito */
        button:focus-visible,
        input:focus-visible {
            outline: 2px solid #d4af37;
            outline-offset: 2px;
        }

        /* Utilit√°rios de Anima√ß√£o */
        .slide-in {
            transform: translateX(0%);
        }

        .slide-out {
            transform: translateX(100%);
        }

        /* Cores Neon Grug */
        .text-neon-pink {
            color: #ff00aa;
        }

        .bg-neon-pink-10 {
            background-color: rgba(255, 0, 170, 0.1);
        }

        .text-neon-green {
            color: #39ff14;
        }

        .bg-neon-green-10 {
            background-color: rgba(57, 255, 20, 0.1);
        }

        .text-gold {
            color: #d4af37;
        }

        .bg-gold-10 {
            background-color: rgba(212, 175, 55, 0.1);
        }
    </style>
</head>

<body class="selection:bg-[#d4af37] selection:text-black">

    <!-- SOM DE NOTIFICA√á√ÉO (Base64 para n√£o depender de arquivo) -->
    <audio id="notif-sound" src="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU"></audio>

    <!-- TOAST CONTAINER -->
    <div id="toast-container" class="fixed bottom-6 left-24 z-[100]"></div>

    <!-- TELA DE LOGIN -->
    <div id="login-screen" class="min-h-screen flex items-center justify-center p-4">
        <div class="w-full max-w-md text-center">
            <div
                class="w-16 h-16 bg-[#d4af37] mx-auto rounded-2xl flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(212,175,55,0.2)]">
                <i data-lucide="lock" class="text-black w-8 h-8"></i>
            </div>
            <h1 class="text-3xl font-syne font-bold text-white mb-2">Acesso Restrito</h1>
            <p class="text-gray-500 mb-10">Pipeline Gui Magellane ‚Ä¢ 2025</p>

            <form id="login-form" class="relative">
                <input type="password" id="password-input" placeholder="Senha de acesso"
                    class="w-full bg-[#141414] border border-white/10 rounded-xl px-5 py-4 text-white placeholder-gray-600 focus:border-[#d4af37] transition-all">
                <button type="submit"
                    class="absolute right-2 top-2 bottom-2 bg-[#d4af37] text-black rounded-lg px-4 hover:bg-[#c4a030] transition-colors">
                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                </button>
            </form>
            <p id="login-error" class="text-red-500 text-sm mt-4 hidden animate-pulse">Senha errada. Grug n√£o deixa
                passar.</p>
        </div>
    </div>

    <!-- DASHBOARD (Escondido inicialmente) -->
    <div id="dashboard" class="hidden flex h-screen">

        <!-- SIDEBAR RAIL -->
        <aside class="w-24 bg-[#0f0f0f] flex flex-col items-center py-6 gap-8 z-50 border-r border-white/0">
            <div
                class="w-12 h-12 bg-[#d4af37] text-black rounded-xl flex items-center justify-center shadow-[4px_4px_0px_0px_#1a1a1a] cursor-pointer hover:-translate-y-0.5 transition-transform">
                <i data-lucide="zap" class="w-6 h-6 fill-current"></i>
            </div>

            <nav class="flex-1 flex flex-col gap-6 w-full px-2" id="nav-buttons">
                <!-- Bot√µes gerados via JS ou hardcoded, Grug gosta de hardcoded se pouco muda -->
                <button onclick="app.setFilter('hoje')"
                    class="nav-btn w-12 h-12 rounded-2xl flex items-center justify-center mx-auto text-[#d4af37] bg-[#1a1a1a] shadow-[0_0_20px_rgba(212,175,55,0.1)] transition-all"
                    data-filter="hoje" title="Vis√£o Geral">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                </button>
                <button onclick="app.setFilter('quentes')"
                    class="nav-btn w-12 h-12 rounded-2xl flex items-center justify-center mx-auto text-gray-400 hover:text-white hover:bg-[#1a1a1a] transition-all"
                    data-filter="quentes" title="Quentes">
                    <i data-lucide="trending-up" class="w-5 h-5 text-neon-pink"></i>
                </button>
                <button onclick="app.setFilter('whatsapp')"
                    class="nav-btn w-12 h-12 rounded-2xl flex items-center justify-center mx-auto text-gray-400 hover:text-white hover:bg-[#1a1a1a] transition-all"
                    data-filter="whatsapp" title="WhatsApp">
                    <i data-lucide="message-circle" class="w-5 h-5"></i>
                </button>

                <!-- Bot√£o Secreto Demo -->
                <button onclick="app.simulateLead()"
                    class="mt-8 w-12 h-12 rounded-2xl flex items-center justify-center mx-auto text-gray-600 hover:text-white hover:bg-[#1a1a1a] transition-all"
                    title="Simular Lead">
                    <i data-lucide="plus" class="w-5 h-5"></i>
                </button>
            </nav>

            <div class="mb-4">
                <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-[#d4af37] to-[#ff00aa] p-[2px]">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Gui" class="rounded-full bg-black">
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="flex-1 flex flex-col relative overflow-hidden">

            <!-- HEADER -->
            <header class="px-10 py-8 flex items-center justify-between shrink-0">
                <div>
                    <h1 class="text-3xl font-syne font-bold text-white flex items-center gap-3">
                        Ol√°, Gui! <span class="text-2xl animate-bounce">üëã</span>
                    </h1>
                    <p class="text-gray-400 text-sm mt-1">Hoje, <span id="current-date"></span> ‚Ä¢ Pipeline Atualizado
                    </p>
                </div>

                <div class="flex items-center gap-3">
                    <button onclick="app.exportCSV()"
                        class="flex items-center gap-2 px-4 py-2.5 rounded-full bg-[#1a1a1a] text-gray-300 hover:text-white hover:bg-[#252525] text-sm font-medium transition-all">
                        <i data-lucide="download" class="w-4 h-4"></i> <span class="hidden sm:inline">Exportar
                            M√™s</span>
                    </button>
                    <button onclick="app.openCalendly()"
                        class="flex items-center gap-2 px-4 py-2.5 rounded-full bg-[#1a1a1a] text-gray-300 hover:text-white hover:bg-[#252525] text-sm font-medium transition-all">
                        <i data-lucide="calendar-days" class="w-4 h-4"></i> <span class="hidden sm:inline">Agenda</span>
                    </button>
                    <button
                        class="w-10 h-10 rounded-full bg-[#1a1a1a] text-gray-400 flex items-center justify-center hover:text-white relative">
                        <i data-lucide="bell" class="w-5 h-5"></i>
                        <span class="absolute top-2 right-2 w-2 h-2 bg-neon-pink rounded-full animate-pulse"></span>
                    </button>
                    <button onclick="app.openCalendly()"
                        class="hidden md:flex items-center gap-2 bg-[#d4af37] text-black font-bold px-6 py-2.5 rounded-full hover:bg-[#c4a030] shadow-[0_0_20px_rgba(212,175,55,0.2)] active:scale-95 transition-all">
                        <i data-lucide="phone-call" class="w-4 h-4"></i> Marcar Call
                    </button>
                </div>
            </header>

            <!-- SCROLL AREA -->
            <div class="flex-1 overflow-y-auto px-10 pb-10 space-y-8">

                <!-- KPIS -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- KPI 1 -->
                    <div
                        class="bg-[#141414] p-6 rounded-[2rem] border border-white/5 hover:border-[#39ff14]/20 transition-all group relative">
                        <div
                            class="absolute top-4 right-4 w-10 h-10 bg-neon-green-10 rounded-full flex items-center justify-center text-neon-green">
                            <i data-lucide="dollar-sign" class="w-5 h-5"></i>
                        </div>
                        <p class="text-gray-400 text-sm font-medium mb-2">Faturamento Estimado</p>
                        <h3 class="text-3xl font-syne font-bold text-white mb-4" id="kpi-total">R$ 0,00</h3>
                        <div class="flex items-center gap-2 text-xs font-bold text-neon-green">
                            <i data-lucide="trending-up" class="w-3 h-3"></i> +15% <span
                                class="text-gray-500 font-normal ml-1">vs m√™s passado</span>
                        </div>
                    </div>
                    <!-- KPI 2 -->
                    <div
                        class="bg-[#141414] p-6 rounded-[2rem] border border-white/5 hover:border-[#ff00aa]/20 transition-all group relative">
                        <div
                            class="absolute top-4 right-4 w-10 h-10 bg-neon-pink-10 rounded-full flex items-center justify-center text-neon-pink">
                            <i data-lucide="zap" class="w-5 h-5"></i>
                        </div>
                        <p class="text-gray-400 text-sm font-medium mb-2">Novas Oportunidades</p>
                        <h3 class="text-3xl font-syne font-bold text-white mb-4" id="kpi-count">0</h3>
                        <div class="flex items-center gap-2 text-xs font-bold text-neon-pink">
                            5 urgentes <span class="text-gray-500 font-normal ml-1">precisam de aten√ß√£o</span>
                        </div>
                    </div>
                    <!-- KPI 3 -->
                    <div
                        class="bg-[#141414] p-6 rounded-[2rem] border border-white/5 hover:border-[#d4af37]/20 transition-all group relative">
                        <div
                            class="absolute top-4 right-4 w-10 h-10 bg-gold-10 rounded-full flex items-center justify-center text-gold">
                            <i data-lucide="message-circle" class="w-5 h-5"></i>
                        </div>
                        <p class="text-gray-400 text-sm font-medium mb-2">Taxa de Resposta</p>
                        <h3 class="text-3xl font-syne font-bold text-white mb-4">92%</h3>
                        <div class="flex items-center gap-2 text-xs font-bold text-gold">
                            Tempo recorde <span class="text-gray-500 font-normal ml-1">12min m√©dio</span>
                        </div>
                    </div>
                </div>

                <!-- TABELA -->
                <div class="space-y-4">
                    <div class="flex items-center justify-between px-2">
                        <h2 class="text-xl font-syne font-bold text-white flex items-center gap-2">
                            Leads Recentes <span id="leads-count-badge"
                                class="text-sm font-inter font-normal text-gray-400 bg-[#1a1a1a] px-2 py-0.5 rounded-full">0</span>
                        </h2>
                        <button onclick="app.setFilter('all')"
                            class="text-xs font-bold text-gray-400 hover:text-white px-3 py-1.5 rounded-full hover:bg-[#1a1a1a] transition-colors">Ver
                            todos</button>
                    </div>

                    <div class="bg-[#141414] rounded-[2rem] overflow-hidden border border-white/5">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="border-b border-white/5 text-gray-500 text-xs uppercase tracking-wider">
                                    <th class="p-6 font-medium pl-8">Lead / Cliente</th>
                                    <th class="p-6 font-medium">Canal</th>
                                    <th class="p-6 font-medium">Status</th>
                                    <th class="p-6 font-medium">Valor</th>
                                    <th class="p-6 font-medium text-right pr-8">A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="leads-table-body" class="text-sm">
                                <!-- JS vai preencher aqui. Grug espera. -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- DRAWER (MODAL LATERAL) -->
            <div id="drawer-backdrop" onclick="app.closeDrawer()"
                class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[90] hidden transition-opacity"></div>

            <div id="drawer"
                class="fixed inset-y-0 right-0 w-full md:w-[500px] bg-[#141414] shadow-2xl z-[100] border-l border-white/5 transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col">
                <!-- Conte√∫do do Drawer preenchido via JS -->
                <div id="drawer-content" class="h-full flex flex-col"></div>
            </div>

        </main>
    </div>

    <!-- GRUG JS: C√ìDIGO SIMPLES -->
    <script>
        // --- GRUG STATE ---
        const state = {
            leads: [
                { id: 1, name: "Beatriz S.", source: "instagram", status: "new", phone: "5511999999999", value: 15000, timestamp: Date.now() - 1800000, notes: "Quer rebranding completo p/ marca de joias.", contacted: false },
                { id: 2, name: "Ag√™ncia VML", source: "whatsapp", status: "negotiation", phone: "5511988888888", value: 45000, timestamp: Date.now() - 18000000, notes: "Projeto 3D para campanha de natal. Urgente.", contacted: true },
                { id: 3, name: "Ricardo T.", source: "form", status: "new", phone: "5511977777777", value: 8500, timestamp: Date.now() - 90000000, notes: "Landing page para lan√ßamento de infoproduto.", contacted: false },
            ],
            filter: 'hoje',
            activeLead: null
        };

        // --- GRUG APP LOGIC ---
        const app = {
            init: () => {
                // Configurar Data
                document.getElementById('current-date').innerText = new Date().toLocaleDateString('pt-BR', { day: 'numeric', month: 'long' });

                // Login Listener
                document.getElementById('login-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    const pass = document.getElementById('password-input').value;
                    if (pass === 'gui2025') {
                        document.getElementById('login-screen').classList.add('hidden');
                        document.getElementById('dashboard').classList.remove('hidden');
                        app.injectCalendly(); // S√≥ injeta se logar
                        app.render();
                    } else {
                        document.getElementById('login-error').classList.remove('hidden');
                    }
                });

                // Atalhos de Teclado
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') app.closeDrawer();
                    if (e.key.toLowerCase() === 'w' && state.activeLead) app.openWhatsApp(state.activeLead);
                });

                lucide.createIcons();
            },

            injectCalendly: () => {
                const head = document.querySelector('head');
                const script = document.createElement('script');
                script.src = 'https://assets.calendly.com/assets/external/widget.js';
                head.appendChild(script);
                const css = document.createElement('link');
                css.rel = 'stylesheet';
                css.href = 'https://assets.calendly.com/assets/external/widget.css';
                head.appendChild(css);
            },

            formatCurrency: (val) => new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(val),

            getTemperature: (ts) => {
                const diff = (Date.now() - ts) / 3600000; // horas
                if (diff < 2) return { label: "FERVENDO", classes: "text-neon-pink bg-neon-pink-10" };
                if (diff < 24) return { label: "MORNO", classes: "text-gold bg-gold-10" };
                return { label: "FRIO", classes: "text-neon-green bg-neon-green-10" }; // Azul/Verde pra frio
            },

            setFilter: (f) => {
                state.filter = f;
                // Update active state visual dos bot√µes
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    const isActive = btn.dataset.filter === f;
                    btn.classList.toggle('text-[#d4af37]', isActive);
                    btn.classList.toggle('bg-[#1a1a1a]', isActive);
                    btn.classList.toggle('shadow-[0_0_20px_rgba(212,175,55,0.1)]', isActive);
                    if (!isActive) {
                        btn.classList.add('text-gray-400');
                        btn.classList.remove('bg-[#1a1a1a]');
                    }
                });
                app.render();
            },

            openWhatsApp: (lead) => {
                const msg = `Oi ${lead.name.split(' ')[0]}, tudo certo? Sobre o job que voc√™ pediu no site...`;
                window.open(`https://wa.me/${lead.phone}?text=${encodeURIComponent(msg)}`, '_blank');
                // Marca como contatado
                const idx = state.leads.findIndex(l => l.id === lead.id);
                if (idx !== -1) {
                    state.leads[idx].contacted = true;
                    app.render();
                }
            },

            openCalendly: (lead) => {
                if (window.Calendly) {
                    window.Calendly.initPopupWidget({
                        url: 'https://calendly.com/gui-magellane/reuniao-de-briefing',
                        prefill: lead ? {
                            name: lead.name,
                            email: 'email@mock.com',
                            customAnswers: { a1: lead.phone }
                        } : {}
                    });
                } else {
                    alert("Calendly carregando... Grug pede paci√™ncia.");
                }
            },

            exportCSV: () => {
                const headers = "ID,Nome,Origem,Valor,Telefone,Data\n";
                const rows = state.leads.map(l => `${l.id},${l.name},${l.source},${l.value},${l.phone},${new Date(l.timestamp).toLocaleDateString()}`).join("\n");
                const blob = new Blob([headers + rows], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = "leads_gui_grug.csv";
                link.click();
                app.showToast("CSV baixado com sucesso!", "success");
            },

            simulateLead: () => {
                const names = ["Studio Ghibli", "Pixar Brasil", "Globo Filmes", "Omelete"];
                const newLead = {
                    id: Date.now(),
                    name: names[Math.floor(Math.random() * names.length)],
                    source: Math.random() > 0.5 ? "instagram" : "form",
                    status: "new",
                    phone: "5511999999999",
                    value: Math.floor(Math.random() * 40000) + 5000,
                    timestamp: Date.now(),
                    notes: "Lead simulado pelo bot√£o secreto do Grug.",
                    contacted: false
                };
                state.leads.unshift(newLead);
                document.getElementById('notif-sound').play().catch(e => console.log("Audio blocked"));
                app.showToast(`Novo Lead: ${app.formatCurrency(newLead.value)}`, "alert");
                document.title = "(1) Leads ‚Ä¢ Gui";
                setTimeout(() => document.title = "Admin ‚Ä¢ Gui", 5000);
                app.render();
            },

            showToast: (msg, type) => {
                const container = document.getElementById('toast-container');
                const el = document.createElement('div');
                const color = type === 'alert' ? 'text-neon-pink border-neon-pink' : 'text-neon-green border-neon-green';
                el.className = `flex items-center gap-4 px-6 py-4 rounded-xl bg-[#141414] border shadow-2xl mb-2 animate-bounce ${type === 'alert' ? 'border-[#ff00aa]/30' : 'border-[#39ff14]/30'}`;
                el.innerHTML = `
                    <div class="p-2 rounded-full ${type === 'alert' ? 'bg-neon-pink-10 text-neon-pink' : 'bg-neon-green-10 text-neon-green'}">
                        <i data-lucide="${type === 'alert' ? 'zap' : 'check'}" class="w-5 h-5"></i>
                    </div>
                    <div>
                        <p class="font-bold text-white text-sm">${type === 'alert' ? 'Nova Oportunidade!' : 'Sucesso'}</p>
                        <p class="text-gray-400 text-xs">${msg}</p>
                    </div>
                `;
                container.appendChild(el);
                lucide.createIcons();
                setTimeout(() => el.remove(), 4000);
            },

            openDrawer: (lead) => {
                state.activeLead = lead;
                const drawer = document.getElementById('drawer');
                const backdrop = document.getElementById('drawer-backdrop');
                const content = document.getElementById('drawer-content');

                drawer.classList.remove('translate-x-full');
                backdrop.classList.remove('hidden');

                content.innerHTML = `
                    <div class="p-8 flex items-center justify-between border-b border-white/5">
                       <h2 class="text-2xl font-syne font-bold text-white">${lead.name}</h2>
                       <button onclick="app.closeDrawer()" class="p-2 hover:bg-white/5 rounded-full text-gray-400">
                         <i data-lucide="x" class="w-6 h-6"></i>
                       </button>
                    </div>
                    <div class="p-8 flex-1 overflow-y-auto space-y-8">
                       <div class="p-8 rounded-3xl bg-[#0f0f0f] border border-white/5 text-center relative overflow-hidden">
                          <div class="absolute top-0 right-0 w-32 h-32 bg-gold-10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
                          <p class="text-gray-500 text-xs uppercase tracking-widest mb-2">Valor do Projeto</p>
                          <h3 class="text-5xl font-syne font-bold text-[#d4af37] mb-6">${app.formatCurrency(lead.value)}</h3>
                          <div class="grid grid-cols-1 gap-3">
                            <button onclick='app.openWhatsApp(${JSON.stringify(lead)})' class="w-full py-4 bg-[#25D366] text-black font-bold rounded-xl flex items-center justify-center gap-3 hover:scale-[1.02] transition-transform shadow-lg shadow-green-900/20">
                               <i data-lucide="message-circle" class="w-5 h-5"></i> Conversar no WhatsApp
                            </button>
                            <button onclick='app.openCalendly(${JSON.stringify(lead)})' class="w-full py-4 bg-[#1a1a1a] text-white border border-white/10 font-bold rounded-xl flex items-center justify-center gap-3 hover:bg-[#252525] transition-colors">
                               <i data-lucide="calendar-days" class="w-5 h-5"></i> Marcar Reuni√£o Agora
                            </button>
                          </div>
                       </div>
                       <div>
                          <h4 class="text-sm font-bold text-white mb-3 uppercase tracking-wider text-gray-500">Briefing Inicial</h4>
                          <p class="text-gray-300 text-lg leading-relaxed font-light italic bg-[#0f0f0f] p-6 rounded-2xl border border-white/5">"${lead.notes}"</p>
                       </div>
                    </div>
                `;
                lucide.createIcons();
            },

            closeDrawer: () => {
                state.activeLead = null;
                document.getElementById('drawer').classList.add('translate-x-full');
                document.getElementById('drawer-backdrop').classList.add('hidden');
            },

            render: () => {
                // Filtra Leads
                const filtered = state.leads.filter(l => {
                    const diff = Date.now() - l.timestamp;
                    if (state.filter === 'hoje') return diff < 86400000;
                    if (state.filter === 'quentes') return diff < 7200000; // 2h
                    if (state.filter === 'whatsapp') return l.source === 'whatsapp';
                    return true;
                });

                // Atualiza KPIs
                const totalValue = state.leads.reduce((acc, l) => acc + l.value, 0);
                document.getElementById('kpi-total').innerText = app.formatCurrency(totalValue);
                document.getElementById('kpi-count').innerText = state.leads.filter(l => !l.contacted).length;
                document.getElementById('leads-count-badge').innerText = filtered.length;

                // Renderiza Tabela (O jeito Grug: innerHTML limpo)
                const tbody = document.getElementById('leads-table-body');
                tbody.innerHTML = filtered.map(lead => {
                    const temp = app.getTemperature(lead.timestamp);
                    const isNew = !lead.contacted;
                    return `
                        <tr class="group cursor-pointer hover:bg-white/[0.02] transition-colors border-b border-white/5 last:border-0" onclick='app.openDrawer(${JSON.stringify(lead)})'>
                            <td class="p-6 pl-8">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold text-xs relative ${lead.contacted ? 'bg-neon-green-10 text-neon-green' : 'bg-neon-pink-10 text-neon-pink'}">
                                        ${lead.name.charAt(0)}
                                        ${isNew ? '<span class="absolute -top-1 -right-1 w-3 h-3 bg-neon-pink border-2 border-[#141414] rounded-full"></span>' : ''}
                                    </div>
                                    <div>
                                        <p class="text-white font-medium group-hover:text-[#d4af37] transition-colors">${lead.name}</p>
                                        <p class="text-xs text-gray-500">ID #${lead.id}</p>
                                    </div>
                                </div>
                            </td>
                            <td class="p-6">
                                <div class="flex items-center gap-2 text-gray-400">
                                    <i data-lucide="${lead.source === 'whatsapp' ? 'message-circle' : 'instagram'}" class="w-4 h-4"></i>
                                    <span class="capitalize">${lead.source}</span>
                                </div>
                            </td>
                            <td class="p-6">
                                <span class="px-3 py-1 rounded-full text-xs font-bold ${temp.classes}">${temp.label}</span>
                            </td>
                            <td class="p-6 font-mono text-gray-300">${app.formatCurrency(lead.value)}</td>
                            <td class="p-6 text-right pr-8">
                                <button onclick='event.stopPropagation(); app.openWhatsApp(${JSON.stringify(lead)})' class="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center text-gray-400 hover:text-neon-green hover:border-neon-green hover:bg-neon-green-10 transition-all ml-auto">
                                    <i data-lucide="message-circle" class="w-4 h-4"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                }).join('');

                // Re-inicializa √≠cones novos
                lucide.createIcons();
            }
        };

        // Grug Inicializa
        app.init();
    </script>
</body>

</html>